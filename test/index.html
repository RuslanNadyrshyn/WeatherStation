<!doctype html> <!-- html код -->
<html>

<head>
    <meta charset="utf-8"> <!-- Підключення кирилиці -->
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/chart.min.js"></script> <!-- Підключення додаткових бібліотек -->
    <script src="../js/utils.js"></script>
    <script src="../js/jquery.js"></script>
    <script src=".env.js"></script>
    <script src="script.js"></script>
</head>

<body>
    <header>
        <nav>
            
            <div class="weather-container">
                <div class="dropdown">
                    <a id="location">Львів</a>
                    <nav class="dropdown-content">
                        <a onclick="changeLocation('Київ')">Київ</a>
                        <a onclick="changeLocation('Львів')">Львів</a>
                        <a onclick="changeLocation('Харків')">Харків</a>
                    </nav>
                </div>
                <div class="dropdown-weather">
                    <div id="location-weather">-1</div>
                    <div class="weather-block">
                        <div class="weather-content">
                            <table id="weatherTable"></table>
                            <a href="https://www.meteo.gov.ua/">Докладніше</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#current-label">Дані датчика BME280</a>
                <a href="#db-label">База даних</a>
                <a href="#charts-label">Графіки</a>
            </div>
        </nav>
    </header>
    <div class="container">
        <h1 id="current-label">Дані датчика BME280</h1> <!-- Створення таблиці "Дані датчика BME280" -->
        <table class="current-table" cellspacing="0">
            <tr>
                <th>Температура</th>
                <th>Тиск</th>
                <th>Висота над рівнем моря</th>
                <th>Вологість</th>
            </tr>
            <tr>
                <td class="current-table-td" id="temp">21.5</td>
                <td class="current-table-td" id="press">1001 ГПа</td>
                <td class="current-table-td" id="alt">800 м</td>
                <td class="current-table-td" id="hum">67 %</td>
            </tr>
        </table>
        <h1 id="db-label">База даних</h1>
        <button onclick="updateTable()">Update table</button>
        <nav class="navigator-block">
            Сторінка:
            <a class="navigator-item" onclick="window.location='index.php?count=20';">1</a>
            <a class="navigator-item" onclick="window.location='index.php?count=20';">2</a>
            <a class="navigator-item" onclick="window.location='index.php?count=20';">3</a>
            <a class="navigator-item" onclick="window.location='index.php?count=20';">5</a>
        </nav>
        <!-- Вивід навігатора сторінок і кількості значень БД -->
        <div class="db-table-container">
            <table id="dbTable"></table>
        </div>
        <nav class="navigator-block">
            <a class="navigator-item" onclick="window.location='index.php?count=20';">20</a>
            <a class="navigator-item" onclick="window.location='index.php?count=50';">50</a>
            <a class="navigator-item" onclick="window.location='index.php?count=100';">100</a>
            <a class="navigator-item" onclick="window.location='index.php?count=';">Всі()</a>
        </nav>
        <!-- Вивід навігатора сторінок БД -->
        <h1 id="charts-label">Графіки</h1>
        <p>*Натисніть на графік для його збільшення</p>
        <div class="chart-block">
            <!--Ініціалізація графіків -->
            <div class="chart-container" onclick="toggleChart({id})" id="container-temp">
                <label class="chart-label">Температура</label>
                <canvas id="chart-temp"></canvas>
            </div>
            <div class="chart-container" onclick="toggleChart({id})" id="container-press">
                <label class="chart-label">Тиск</label>
                <canvas id="chart-press"></canvas>
            </div>
            <div class="chart-container" onclick="toggleChart({id})" id="container-alt">
                <label class="chart-label">Висота над рівнем моря</label>
                <canvas id="chart-alt"></canvas>
            </div>
            <div class="chart-container" onclick="toggleChart({id})" id="container-hum">
                <label class="chart-label">Вологість</label>
                <canvas id="chart-hum"></canvas>
            </div>
        </div>
    </div> <!-- container -->
    <script>
        var db = [];
        for (let i = 0; i < 15; i++) {
            db.push({
                id: i,
                date: "date" + i,
                time: "time" + i,
                temp: "temp" + i,
                press: "press" + i,
                alt: "alt" + i,
                hum: "hum" + i
            })
        }
        
        var arr = {
            temp: ["1","3","3","4","5"],
            press: ["1","3","3","4","5"],
            alt: ["1","3","3","4","5"],
            hum: ["1","3","3","4","5"],
            date: ["1","3","3","4","5"]
        };
        
        var header = ["ID", "Дата", "Час", "Температура", "Тиск", "Висота", "Вологість"];
        
        changeLocation('Kyiv');
        printDB(db, header);
        drawCharts(arr, arr.date);
    </script>
</body>

</html>